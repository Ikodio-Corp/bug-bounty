apiVersion: v1
kind: Secret
metadata:
  name: {{ include "ikodio-bugbounty.fullname" . }}-secrets
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "ikodio-bugbounty.labels" . | nindent 4 }}
type: Opaque
stringData:
  # Database
  POSTGRES_USER: {{ .Values.postgresql.auth.username | quote }}
  POSTGRES_PASSWORD: {{ .Values.secrets.postgresPassword | quote }}
  
  # Security
  SECRET_KEY: {{ .Values.secrets.secretKey | quote }}
  ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  
  # OpenAI
  OPENAI_API_KEY: {{ .Values.secrets.openaiApiKey | quote }}
  
  # OAuth
  GITHUB_CLIENT_ID: {{ .Values.secrets.githubClientId | quote }}
  GITHUB_CLIENT_SECRET: {{ .Values.secrets.githubClientSecret | quote }}
  GOOGLE_CLIENT_ID: {{ .Values.secrets.googleClientId | quote }}
  GOOGLE_CLIENT_SECRET: {{ .Values.secrets.googleClientSecret | quote }}
  MICROSOFT_CLIENT_ID: {{ .Values.secrets.microsoftClientId | quote }}
  MICROSOFT_CLIENT_SECRET: {{ .Values.secrets.microsoftClientSecret | quote }}
  GITLAB_CLIENT_ID: {{ .Values.secrets.gitlabClientId | quote }}
  GITLAB_CLIENT_SECRET: {{ .Values.secrets.gitlabClientSecret | quote }}
  
  # Stripe
  STRIPE_SECRET_KEY: {{ .Values.secrets.stripeSecretKey | quote }}
  STRIPE_PUBLISHABLE_KEY: {{ .Values.secrets.stripePublishableKey | quote }}
  STRIPE_WEBHOOK_SECRET: {{ .Values.secrets.stripeWebhookSecret | quote }}
  
  # Email
  SMTP_HOST: {{ .Values.secrets.smtpHost | quote }}
  SMTP_PORT: {{ .Values.secrets.smtpPort | quote }}
  SMTP_USER: {{ .Values.secrets.smtpUser | quote }}
  SMTP_PASSWORD: {{ .Values.secrets.smtpPassword | quote }}
  
  # Notifications
  SLACK_BOT_TOKEN: {{ .Values.secrets.slackBotToken | quote }}
  SLACK_SIGNING_SECRET: {{ .Values.secrets.slackSigningSecret | quote }}
  DISCORD_BOT_TOKEN: {{ .Values.secrets.discordBotToken | quote }}
  DISCORD_WEBHOOK_URL: {{ .Values.secrets.discordWebhookUrl | quote }}
  
  # Issue Tracking
  JIRA_URL: {{ .Values.secrets.jiraUrl | quote }}
  JIRA_EMAIL: {{ .Values.secrets.jiraEmail | quote }}
  JIRA_API_TOKEN: {{ .Values.secrets.jiraApiToken | quote }}
  LINEAR_API_KEY: {{ .Values.secrets.linearApiKey | quote }}
  ASANA_ACCESS_TOKEN: {{ .Values.secrets.asanaAccessToken | quote }}
  MONDAY_API_TOKEN: {{ .Values.secrets.mondayApiToken | quote }}
  
  # Bug Bounty Platforms
  HACKERONE_API_TOKEN: {{ .Values.secrets.hackeroneApiToken | quote }}
  BUGCROWD_API_TOKEN: {{ .Values.secrets.bugcrowdApiToken | quote }}
  INTIGRITI_API_TOKEN: {{ .Values.secrets.intigritiApiToken | quote }}
  YESWEHACK_API_TOKEN: {{ .Values.secrets.yeswehackApiToken | quote }}
  
  # CI/CD
  JENKINS_URL: {{ .Values.secrets.jenkinsUrl | quote }}
  JENKINS_USER: {{ .Values.secrets.jenkinsUser | quote }}
  JENKINS_TOKEN: {{ .Values.secrets.jenkinsToken | quote }}
  
  # Cloud Providers
  AWS_ACCESS_KEY_ID: {{ .Values.secrets.awsAccessKeyId | quote }}
  AWS_SECRET_ACCESS_KEY: {{ .Values.secrets.awsSecretAccessKey | quote }}
  AWS_REGION: {{ .Values.secrets.awsRegion | quote }}
  GCP_PROJECT_ID: {{ .Values.secrets.gcpProjectId | quote }}
  GCP_SERVICE_ACCOUNT_KEY: {{ .Values.secrets.gcpServiceAccountKey | quote }}
  AZURE_TENANT_ID: {{ .Values.secrets.azureTenantId | quote }}
  AZURE_CLIENT_ID: {{ .Values.secrets.azureClientId | quote }}
  AZURE_CLIENT_SECRET: {{ .Values.secrets.azureClientSecret | quote }}
  AZURE_SUBSCRIPTION_ID: {{ .Values.secrets.azureSubscriptionId | quote }}
  
  # Sentry
  {{- if .Values.sentry.enabled }}
  SENTRY_DSN: {{ .Values.secrets.sentryDsn | quote }}
  {{- end }}
  
  # Grafana
  {{- if .Values.monitoring.grafana.enabled }}
  GF_SECURITY_ADMIN_PASSWORD: {{ .Values.secrets.grafanaAdminPassword | quote }}
  {{- end }}
